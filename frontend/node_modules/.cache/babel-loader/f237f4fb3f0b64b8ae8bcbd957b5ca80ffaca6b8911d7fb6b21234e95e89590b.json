{"ast":null,"code":"var _jsxFileName = \"C:\\\\E-TokoBeras\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\nimport Login from './components/Login';\nimport ProductList from './components/ProductList';\nimport Cart from './components/Cart';\nimport OrderList from './components/OrderList';\nimport { login } from './api'; // Import API untuk login\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [role, setRole] = useState(null);\n  const [cart, setCart] = useState([]); // Manage cart here\n  const [errorMessage, setErrorMessage] = useState('');\n\n  // Memeriksa status login dari localStorage ketika aplikasi dimuat\n  useEffect(() => {\n    const storedRole = localStorage.getItem('role');\n    if (storedRole) {\n      setRole(storedRole);\n    }\n  }, []);\n\n  // Fungsi untuk menangani login\n  const handleLogin = async (username, password) => {\n    try {\n      const response = await login(username, password);\n      if (response.error) {\n        setErrorMessage('Login gagal!');\n      } else {\n        setRole(response.role);\n        // Menyimpan role pengguna di localStorage\n        localStorage.setItem('role', response.role);\n      }\n    } catch (error) {\n      setErrorMessage('Terjadi kesalahan saat login!');\n    }\n  };\n\n  // Fungsi untuk logout\n  const handleLogout = () => {\n    // Menghapus status login dari localStorage\n    localStorage.removeItem('role');\n    setRole(null);\n  };\n\n  // Fungsi untuk menambah produk ke keranjang\n  const handleAddToCart = product => {\n    setCart([...cart, product]);\n  };\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: 'white',\n            paddingLeft: '10px'\n          },\n          children: \"Menu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/home\",\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/cart\",\n          children: \"Keranjang\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/orders\",\n          children: \"Pesanan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: role ? /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/home\",\n            element: /*#__PURE__*/_jsxDEV(ProductList, {\n              onAddToCart: handleAddToCart\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/cart\",\n            element: /*#__PURE__*/_jsxDEV(Cart, {\n              cart: cart\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/orders\",\n            element: /*#__PURE__*/_jsxDEV(OrderList, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {\n          onLogin: handleLogin,\n          errorMessage: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"TgPGvgPQF0IFXIGyu041bhq/3uc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","Link","Login","ProductList","Cart","OrderList","login","jsxDEV","_jsxDEV","App","_s","role","setRole","cart","setCart","errorMessage","setErrorMessage","storedRole","localStorage","getItem","handleLogin","username","password","response","error","setItem","handleLogout","removeItem","handleAddToCart","product","children","className","style","color","paddingLeft","fileName","_jsxFileName","lineNumber","columnNumber","to","onClick","path","element","onAddToCart","onLogin","_c","$RefreshReg$"],"sources":["C:/E-TokoBeras/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\r\nimport Login from './components/Login';\r\nimport ProductList from './components/ProductList';\r\nimport Cart from './components/Cart';\r\nimport OrderList from './components/OrderList';\r\nimport { login } from './api';  // Import API untuk login\r\n\r\nfunction App() {\r\n  const [role, setRole] = useState(null);\r\n  const [cart, setCart] = useState([]); // Manage cart here\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  // Memeriksa status login dari localStorage ketika aplikasi dimuat\r\n  useEffect(() => {\r\n    const storedRole = localStorage.getItem('role');\r\n    if (storedRole) {\r\n      setRole(storedRole);\r\n    }\r\n  }, []);\r\n\r\n  // Fungsi untuk menangani login\r\n  const handleLogin = async (username, password) => {\r\n    try {\r\n      const response = await login(username, password);\r\n      if (response.error) {\r\n        setErrorMessage('Login gagal!');\r\n      } else {\r\n        setRole(response.role);\r\n        // Menyimpan role pengguna di localStorage\r\n        localStorage.setItem('role', response.role);\r\n      }\r\n    } catch (error) {\r\n      setErrorMessage('Terjadi kesalahan saat login!');\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk logout\r\n  const handleLogout = () => {\r\n    // Menghapus status login dari localStorage\r\n    localStorage.removeItem('role');\r\n    setRole(null);\r\n  };\r\n\r\n  // Fungsi untuk menambah produk ke keranjang\r\n  const handleAddToCart = (product) => {\r\n    setCart([...cart, product]);\r\n  };\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"app-container\">\r\n        {/* Sidebar */}\r\n        <div className=\"sidebar\">\r\n          <h3 style={{ color: 'white', paddingLeft: '10px' }}>Menu</h3>\r\n          <Link to=\"/home\">Home</Link>\r\n          <Link to=\"/cart\">Keranjang</Link>\r\n          <Link to=\"/orders\">Pesanan</Link>\r\n          <button onClick={handleLogout}>Logout</button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"content\">\r\n          {role ? (\r\n            <Routes>\r\n              <Route path=\"/home\" element={<ProductList onAddToCart={handleAddToCart} />} />\r\n              <Route path=\"/cart\" element={<Cart cart={cart} />} />\r\n              <Route path=\"/orders\" element={<OrderList />} />\r\n            </Routes>\r\n          ) : (\r\n            <Login onLogin={handleLogin} errorMessage={errorMessage} />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}